<ng-container *ngIf="datafromapi == true; else loadingsuccess">
  <div class="card d-flex">
    <section class="section_form">
      <form id="consultation-form" class="feed-form" action="#">
        <h1 class="border-3 border-dark border-bottom">จัดการหลักเกณฑ์ CBEs</h1>
        <label for="thainame">ชื่อภาษาไทย</label>
        <input
          name="thainame"
          type="text"
          [(ngModel)]="CBEs.thaiName"
          required
        />
        <label for="engname">ชื่อภาษาอังกฤษ</label>
        <input name="engname" type="text" [(ngModel)]="CBEs.engName" required />
        <label for="shortname">ตัวย่อ</label>
        <input
          name="shortname"
          type="text"
          [(ngModel)]="CBEs.shortName"
          required
        />
        <label for="round">รอบการแก้ไข</label>
        <select name="round">
          <option>1</option>
          <option>2</option>
          <option>3</option>
        </select>
        <label for="remark">หมายเหตุในการบันทึก</label>
        <textarea name="remark" placeholder="หมายเหตุการแก้ไข"></textarea>
        <small>*ต้องกรอกหมายเหตุก่อนแก้ไข</small>

        <div class="mt-3 border-3 border-dark border-top">
          <div class="d-flex mt-3">
            <h3>หลักเกณฑ์</h3>
            <button class="ms-3 mb-3">เพิ่มกระบวนการ</button>
          </div>
          <table>
            <thead>
              <tr>
                <th>กระบวนการ</th>
                <th>ประเด็น</th>
                <th>ประเด็นย่อย</th>
                <th>น้ำหนัก</th>
                <th>จัดการ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><textarea placeholder="level1"></textarea></td>
                <td></td>
                <td></td>
                <td>
                  <input
                    type="number"
                    placeholder="20"
                    style="width: 75px; text-align: center"
                  />
                </td>
                <td>
                  <button>ลบ</button>
                  <button>เพิ่มประเด็น</button>
                </td>
              </tr>
              <tr>
                <td></td>
                <td><textarea placeholder="level2"></textarea></td>
                <td></td>
                <td style="width: 300px">
                  <input
                    type="number"
                    placeholder="20"
                    style="width: 75px; text-align: center"
                  />
                </td>
                <td>
                  <button>ลบ</button>
                  <button>เพิ่มประเด็นย่อย</button>
                </td>
              </tr>
              <tr>
                <td></td>
                <td></td>
                <td><textarea placeholder="level3"></textarea></td>
                <td>
                  <input
                    type="number"
                    placeholder="20"
                    style="width: 75px; text-align: center"
                  />
                </td>
                <td>
                  <button>ลบ</button>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="d-flex mt-3 mb-3">
            <button style="width: fit-content">
              บันทึกและไปกำหนด Maturity
            </button>
            <button>บันทึก</button>
          </div>
        </div>
      </form>
    </section>
  </div>
</ng-container>

<ng-template #loadingsuccess>
  <loading-page></loading-page>
</ng-template>
